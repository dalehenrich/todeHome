TDScriptLeafNode{#name:'commitCypress',#contents:'[ :topez :objIn :tokens :windowId | \n| projectName commitMessage cypressTool cypressRepo gitRepoDir gitTool status statusNode commitMessageFileName |\n\"/home/bin/commitCypress Cypress  @cypressRepo @commitMessage\"\ncypressTool := topez toolInstanceFor: \'cym\'.\nprojectName := tokens at: 2.\ncypressRepo := cypressTool resolveAtPathReference: (tokens at: 3).\ncommitMessage := (cypressTool resolveAtPathReference: (tokens at: 4)) asString.\nTranscript\n  cr;\n  show: \'======= committing \' , projectName printString , \'=======\'.\ncypressTool cymSave: projectName to: cypressRepo.\ngitRepoDir := (topez lookup: \'gitRepo\') dotSelfObject.\ngitTool := topez toolInstanceFor: \'git\'.\ncommitMessageFileName := gitTool createTmpFileWith: commitMessage.\ngitTool\n  gitaddIn: gitRepoDir with: \'.\';\n  gitstatusIn: gitRepoDir with: \'\';\n  gitcommitIn: gitRepoDir with: \'-a --file=\' , commitMessageFileName;\n  gitstatusIn: gitRepoDir with: \'\'.\nstatus := gitTool gitlogIn: gitRepoDir with: \'-1\'.\nTranscript\n  cr;\n  show: \'==============\'.\nstatusNode := topez\n  lookup: \'status\'\n  ifAbsent: [ \n    topez currentNode\n      addChildNode:\n        (TDTxtLeafNode new\n          name: \'status\';\n          yourself) ].\nstatusNode contents: status.\nstatus ]',#creationTime:DateAndTime['2013-12-06T16:33:21.72806191444397-08:00'],#modificationTime:@2}